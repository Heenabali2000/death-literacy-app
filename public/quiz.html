<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>About | TechShift</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="stylesheet" href="./quiz.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>


  </head>
  <body>
    <!-- Navbar -->

    <nav
      class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm"
    >
      <div class="container">
        <a
          class="navbar-brand fw-bold text-black"
          href="index.html"
          style="font-size: 24px"
        >
          <img
            src="images/logo.png"
            alt="logo"
            href="index.html"
            class="me-2"
            style="height: 60px"
          />
          TechShift
        </a>
        <button
          class="navbar-toggler"
          type="button"
          href="index.html"
          data-bs-toggle="offcanvas"
          data-bs-target="#mobileMenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="collapse navbar-collapse justify-content-end d-none d-lg-flex"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="education.html">Education</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="quiz.html">Quiz</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="resourcesDropdown"
                data-bs-toggle="dropdown"
              >
                Resources
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="resources.html"
                    >Guides & Checklists</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="grief-support.html"
                    >Grief Support Tools</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="legal-and-planning.html"
                    >Legal & Planning Templates</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="community.html">Community</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contact.html">Contact</a>
            </li>
           <li class="nav-item" id="authLink">
              <a class="nav-link text-primary" href="/login">Login</a>
             </li>

          </ul>
        </div>
      </div>
    </nav>

    <!-- Mobile Drawer Menu -->
    <div
      class="offcanvas offcanvas-start text-white"
      tabindex="-1"
      id="mobileMenu"
      style="background: linear-gradient(135deg, #2c3e50, #4ca1af)"
    >
      <div class="offcanvas-header border-bottom">
        <h5 class="offcanvas-title d-flex align-items-center">
          <img
            src="https://img.icons8.com/ios-filled/28/ffffff/lotus.png"
            class="me-2"
            alt="icon"
          />
          Menu
        </h5>
        <button
          type="button"
          class="btn-close btn-close-white"
          data-bs-dismiss="offcanvas"
          onclick="loadQuiz()"
        ></button>
      </div>

      <div class="offcanvas-body d-flex flex-column">
        <a href="#" class="text-white fw-semibold mb-3 fs-5 link-hover"
          >🏠 Home</a
        >
        <a href="#about" class="text-white fw-semibold mb-3 fs-5 link-hover"
          >📘 About</a
        >
        <a href="#education" class="text-white fw-semibold mb-3 fs-5 link-hover"
          >📖 Education</a
        >
        <a href="#quiz" class="text-white fw-semibold mb-3 fs-5 link-hover"
          >📝 Take the Quiz</a
        >
        <a href="#resources" class="text-white fw-semibold mb-3 fs-5 link-hover"
          >📂 Resources</a
        >
        <a href="#community" class="text-white fw-semibold mb-3 fs-5 link-hover"
          >🤝 Community</a
        >
        <a href="#contact" class="text-white fw-semibold mb-3 fs-5 link-hover"
          >📬 Contact</a
        >
      </div>
    </div>


<body>



  <div class="container py-5">

      <form id="quizForm" class="d-none" novalidate>
        <div id="stepsContainer"></div>

        
      </form>

      <div class="text-center mb-4">
        <button id="startBtn" class="btn btn-outline-success btn-lg">Start Quiz</button>
        <button id="submitBtn" class="btn btn-primary btn-lg d-none">Submit</button>
      </div>
  

      <!-- Results Section -->
      <!-- Results Section -->
<div id="results" class="card bg-success bg-opacity-10 p-4 border border-success d-none">
  <h2 class="result-title fw-bold text-success">Death Literacy Index – Results</h2>
  <p>Thank you for completing the survey. Below is your summary across each domain of death literacy.</p>
  <div id="resultsSummary"></div>
</div>




    <!-- Bootstrap JS, Popper.js, and jQuery -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                <div id="overallScorecontainer" class="result-item">
              <b>🧮 Overall Death Literacy Score:</b> <span id="overallScore"></span>
              <p class="feedback">You have a strong level of death literacy across multiple domains. This suggests you are well-equipped to navigate conversations, care, and planning related to end-of-life matters.</p>
              <p class='text-muted'>This tool is based on the revised Death Literacy Index (Revised 2024)</p>
            </div>

<!-- Contact Us & Join TechShift Section -->
<section class="section text-center">
  <div class="container">
    <h2 class="section-title">Contact Us</h2>
    <p>
      Whether you're a healthcare professional, educator, or someone seeking clarity around death and dying — we're here for you.
    </p>
    <a href="mailto:info@techshift.org" class="btn btn-dark mb-5">Email Us</a>

    <h2 class="section-title mt-5">Join TechShift</h2>
    <p>
      Be part of a growing movement to build death literacy and empower communities. Sign in to access personalized tools, or create a new account to get started.
    </p>
    <a href="/login" class="btn btn-outline-primary me-2">Sign In</a>
    <a href="/signup" class="btn btn-primary">Sign Up</a>
  </div>
</section>

<!-- Footer -->
<footer class="bg-dark text-white text-center py-4">
  <div class="container">
    <small>&copy; 2025 TechShift | Built with care and awareness.</small>
    <p class="mt-2 mb-0">Greater understanding. Deeper compassion. Stronger support</p>
  </div>
</footer>


            <script src="quizData.js"></script>
            <script src="quiz.js"></script>
                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


<script>
  // Hide all quiz elements on initial load (in case browser loads from cache)
  document.addEventListener('DOMContentLoaded', () => {
    const quizForm = document.getElementById("quizForm");
    const submitBtn = document.getElementById("submitBtn");
    const startBtn = document.getElementById("startBtn");
    const results = document.getElementById("results");

    if (quizForm) quizForm.classList.add("d-none");
    if (submitBtn) submitBtn.classList.add("d-none");
    if (results) results.classList.add("d-none");
    if (startBtn) startBtn.disabled = true; // prevent early clicking

    // Make login check request
    fetch('/api/user', { credentials: 'include' })
      .then(res => res.json())
      .then(data => {
        const loggedIn = data.loggedIn === true;

        const authLink = document.getElementById('authLink')?.querySelector('a');
        if (authLink) {
          authLink.textContent = loggedIn ? 'Logout' : 'Login';
          authLink.href = loggedIn ? '/logout' : '/login';
          authLink.classList.toggle('text-danger', loggedIn);
          authLink.classList.toggle('text-primary', !loggedIn);
        }

        if (!loggedIn) {
          alert("You must be logged in to access this quiz.");
          window.location.href = "/login";
          return;
        }

        // Re-enable start button and make quiz visible for logged-in users
        if (startBtn) startBtn.disabled = false;

        // Hook start button logic
        startBtn.addEventListener("click", () => {
          if (typeof loadQuiz === "function") {
            loadQuiz(); // quiz.js must define this
            if (quizForm) quizForm.classList.remove("d-none");
            startBtn.classList.add("d-none");
            if (submitBtn) submitBtn.classList.remove("d-none");
          }
        });
      })
      .catch(err => {
        console.error("Login check failed:", err);
        alert("Unable to verify login. Redirecting...");
        window.location.href = "/login";
      });
  });
</script>


  </body>
</html>
